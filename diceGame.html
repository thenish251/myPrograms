<!DOCTYPE html>
<html lang="en">
<head>
    <title>Dice Game</title>
</head>
<body>

     Name: <input type="text" value="player1"> 
     <button type="button" id="1" class="dice">Roll the Dice</button>
     Score: <span> </span> <br> <br>

     Name: <input type="text" value="player2"> 
     <button type="button" id="2" class="dice">Roll the Dice</button>
     Score: <span> </span> <br> <br>

     Name: <input type="text" value="player3"> 
     <button type="button" id="3" class="dice">Roll the Dice</button>
     Score: <span> </span> <br> <br>

     Name: <input type="text" value="player4"> 
     <button type="button" id="4" class="dice">Roll the Dice</button>
     Score: <span> </span> <br> <br>

     Name: <input type="text" value="player5"> 
     <button type="button" id="5" class="dice">Roll the Dice</button>
     Score: <span> </span> <br> <br>

     <button id="winner"> Find Winner </button> <br> <br>
     <div id="result"></div>

     <script>
           players =  document.querySelectorAll("input")
           buttons = document.querySelectorAll(".dice")
           scores = document.querySelectorAll("span")
           winnerButton = document.getElementById("winner")
           result = document.getElementById("result")

           // disable winnerButton 
           winnerButton.disabled = true

          for( let t of buttons){
              t.addEventListener("click", rollTheDice)
          }
           let button_clicks  = 0
           function rollTheDice(e){
               button_clicks++ 
               if(button_clicks == 5){
                winnerButton.disabled = false
               }
               user_id = e.target.id - 1
               buttons[user_id].disabled = true
               dice = [1,2,3,4,5,6]
               random_index = parseInt(Math.random()*dice.length)
               dice_result = dice[random_index]
            //    console.log(dice_result)
               scores[user_id].innerText = dice_result

           }
           winnerButton.addEventListener("click", findWinner)
           function findWinner(){
            winnerButton.disabled = true
               max = 0 
               for(t of scores){
                   if (t.innerText>max){
                       max = t.innerText
                   }
               }
               names = ""
               for(i = 0; i<scores.length;i++ ){
                   if(scores[i].innerText == max){
                      names = names + players[i].value + ","
                   }
               }

               result.innerText = `Winners are ${names.substr(0,names.length-1)} as they scored ${max}`

           }

     </script>
    
</body>
</html>